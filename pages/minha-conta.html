<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link rel="icon" href="../css/imgs/logo/aba-logo-and.png" sizes="16x16">

    <link rel="stylesheet" href="../css/pages/desktop/index.css">
    <link rel="stylesheet" href="../css/fonts/font-imports.css">

    <link rel="stylesheet" href="../css/animations/animations-txt.css">
    <link rel="stylesheet" href="../css/buttons/btns-form.css">
    <link rel="stylesheet" href="../css/buttons/btn-list.css">

    <link rel="stylesheet" href="../css/pages/desktop/minha-conta.css">
    <link rel="stylesheet" href="../css/pages/responsivo/resp-minha-conta.css">

    <script src="../css/partials/header/menu-mobile.js" defer></script>
    <script src="../css/partials/modal/modal.js" defer></script>

    <script src="https://unpkg.com/scrollreveal"></script>
    <script src="../css/partials/reveal/reveal.js" defer></script>
    <title>Cadastro de Usuário - And Barbershop</title>
</head>

<body>
    <link rel="stylesheet" href="../css/partials/header/main-header-lateral.css">
    <link rel="stylesheet" href="../css/partials/header/main-header-lateral-mobile.css">
    <link rel="stylesheet" href="../css/partials/header/menu-info-conta.css">
    <link rel="stylesheet" href="../css/partials/header/menu-info-conta-mobile.css">

    <header id="header">
        <div class="interface">
    
            <div class="logo">
                <a href="../index.html">
                    <img src="../css/imgs/logo/logo-png.png" alt="logo-nav">
                </a>
            </div><!--logo-->
    
            <div class="btn-abrir-menu" id="btn-menu">
                <i class="bi bi-list"></i>
            </div>
            
            <div class="menu-conta" id="menu-mobile">
                <div class="btn-fechar">
                    <i class="bi bi-x-lg"></i>
                </div>
    
                <div class="menu-container">
    
                <div class="info-conta">
                    <div class="flex">
                        
                        <div class="img-conta">
                                <img src="../css/imgs/elementos/nav-icon-user.png" alt="Foto Usuário">
                        </div>
    
                        <div class="txt-conta" style="width: 100%; font-size: 20px; margin-bottom: 5px;">
                            <a>Seja Bem-Vindo,</a>
                            <h1>Nome Cliente!</h1>
                        </div>
                    </div><!--flex-->
                </div><!--info-conta-->
                
                <div class="content-menu">
                <nav>
                    <ul>
                        <li><a href="../index.html"><i class="bi bi-house-door-fill"></i>Home</a></li>
                        <li><i class="bi bi-calendar2-week-fill"></i><a href="../pages/agendamento/ver-agendamentos.html">Meus Agendamentos</a></li>
                    
                        <div class="btn-logout">
                            <a href="../index.html">
                                <button class="btn-deletar" type="button">Sair</button>
                            </a>
                        </div>
                    </ul>
                </nav>
                </div><!--content-menu-->
    
            </div><!--menu-container-->
            
        </div><!--menu-conta-->
            <div class="overlay-menu" id="overlay-menu"></div>
    
        </div><!--interface-->
    </header>

    <main>

        <section class="fundo-section">
            <div class="interface">
                <div class="flex">

                    <div class="txt-topo-site efeito-frase-topo"><!--ARRUMAR RESPONSIVO-->
                        <h1>Olá, <span>Nome Cliente</span></h1>
                    </div><!--txt-topo-site-->

                    <div class="container efeito-container-minha-conta">

                        <div class="form-esquerda efeito-txt-img">

                            <form class="form" action="../index.html" method="POST" enctype="multipart/form-data">
                                <div class="heading">Minha Foto</div>

                                    <img id="preview" class="preview-img" src="../css/imgs/elementos/nav-icon-user.png"
                                        alt="Foto do Cliente">
                                    
                                    <input class="input-image" autocomplete="off" type="file" id="imageInput"
                                    accept="image/*" name="image" onchange="previewImage()">
                                    <label class="upload-label" for="imageInput"><i
                                            class="bi bi-cloud-upload-fill"></i> Realizar
                                        Upload</label>

                        </div><!--form-esquerda-->

                        <div class="form-direita efeito-txt-img">
                            <hr>

                            <div class="heading">Minhas Informações</div><br>

                            <div class="input-field efeito-input1-form">
                                <input autocomplete="off" type="text" name="nome" id="nome"
                                    value="Nome Cliente" />
                                <label id="nomeLabel" for="nome">Nome</label>
                            </div>

                            <div class="input-field efeito-input1-form">
                                <input autocomplete="off" type="text" name="sobrenome" id="sobrenome"
                                    value="Sobrenome Cliente" />
                                <label id="sobrenomeLabel" for="sobrenome">Sobrenome</label>
                            </div>

                            <div class="input-field efeito-input2-form">
                                <input required="" autocomplete="off" type="email" name="email" id="email"
                                    value="user@gmail.com" />
                                <label id="emailLabel" for="email">Email</label>
                            </div>

                            <div class="input-field efeito-input2-form">
                                <input placeholder="Digite seu Número de Telefone" autocomplete="off" type="tel"
                                    maxlength="15" name="telefone" id="telefone" onkeyup="mascaraTel(event)"
                                    value="" />
                                <label for="telefone">Telefone</label>
                            </div>

                            <div class="input-field efeito-input3-form">
                                <input placeholder="Digite seu CPF" autocomplete="off" type="text" name="cpf"
                                    id="cpf" aria-describedby="cpf" value=""
                                    onblur="validarCPF()" />
                                <label for="cpf">CPF</label>
                                <div class="erro-msg" id="cpfErro"></div>
                            </div>

                            <div class="input-field efeito-input4-form">
                                <input type="date" name="dataNasc" id="dataNasc"
                                    value=""
                                    onkeydown="return false;" />
                                <label for="dataNasc">Data de Nascimento</label>
                                <div class="erro-msg" id="dataNascErro"></div>
                            </div>


                            <div class="input-field efeito-input4-form">
                                <input placeholder="Digite a nova Senha (deixe vazio para não alterar)"
                                    autocomplete="off" name="senha" id="senha" type="password" value="" />
                                <label for="senha">Senha</label>
                            </div>

                            <div class="btn-container">

                                <button class="btn" style="width: 120px; height: 40px;">Atualizar</button>
                                </form><!--class="form"-->

                                <button id="abre-modal" class="btn-deletar"
                                    style="font-size: 15px; width: 180px; height: 40px;">
                                    Excluir Conta</button>

                            </div><!--btn-container-->

                        </div><!--form-direita-->

                        <dialog>
                            <div class="content">
                                    <h1>Essa ação tem um resultado irreversível. Tem certeza que deseja Excluir sua Conta?</h1>

                                    <div class="btn-container">
                                        <button type="button" id="btn-fecha-modal" class="btn-deletar"
                                        style="padding: 5px 8%; width: auto;">
                                            Sim, Excluir Conta!</button>

                                    <button type="button" class="btn" id="btn-fecha2-modal" style="width: 120px;">Cancelar</button>
                            </div><!--btn-container-->
                    </div><!--content-->
                    </dialog>

                </div><!--container-->

            </div><!--flex-->
            </div><!--interface-->

        </section>

        <link rel="stylesheet" href="../css/partials/footer/main-footer.css">
        <link rel="stylesheet" href="../css/partials/footer/resp-main-footer.css">

        <footer class="main-footer">
            <div class="interface">

                <div class="top-footer esconder-container">

                    <div class="coluna1 efeito-coluna1-footer">
                        <div class="logo">
                            <img src="../css/imgs/logo/logo-png.png" alt="logo-nav">
                        </div><!--logo-->

                        <div class="text-logo">
                            <h5>And Barbershop combina estilo e tradição em um ambiente acolhedor e sofisticado. Com
                                cortes modernos, barbas impecáveis e atendimento personalizado, proporcionamos uma
                                experiência única para quem valoriza qualidade e elegância.</h5>
                        </div>
                    </div><!--coluna1-->

                    <div class="coluna2 efeito-coluna2-footer">
                        <div class="heading-footer barbearia"><i class="bi bi-house-fill"></i>Nossa Barbearia</div>
                        <ul>
                            <li><i class="bi bi-scissors"></i><a>Nosso Serviços</a></li>
                            <li><i class="bi bi-people-fill"></i><a>Nossos Profissionais</a></li>
                            <li><i class="bi bi-cup-hot-fill"></i><a>Nosso Ambiente</a></li>
                            <li><i class="bi bi-bookmark-check-fill"></i><a>Nosso Compromisso</a></li>
                        </ul>
                    </div><!--coluna2-->

                    <div class="coluna3 efeito-coluna3-footer">
                        <div class="heading-footer"><i class="bi bi-alarm-fill"></i>Horários de atendimento</div>
                        <ul>
                            <li><i class="bi bi-calendar2-week"></i><a>Seg. a Sexta: 09h às 21h30</a></li>
                            <li><i class="bi bi-calendar2-week"></i><a>Sábado: 09h às 17h30</a></li>
                        </ul>
                    </div><!--coluna3-->

                    <div class="coluna4 efeito-coluna4-footer">
                        <div class="heading-footer contato"><i class="bi bi-telephone-outbound-fill"></i>Contato</div>
                        <ul>
                            <li><i class="bi bi-geo-alt-fill"></i><a style="font-size: 10px;">Av. Universitária 3125 -
                                    São Sebastião, Criciúma</a></li>
                            <li><i class="bi bi-envelope-fill"></i><a>andbarbershop@gmail.com</a></li>
                            <li><i class="bi bi-whatsapp"></i><a>+55 (48) 9644 - 3861</a></li>
                        </ul>
                    </div><!--coluna4-->

                </div><!--top-footer-->

                <div class="bottom-footer esconder-container">

                    <div class="copy-text efeito-copy-footer">
                        <a>Copyright ©2024 Todos direitos reservados para: <span>Guilherme e Lucas</span></a>
                    </div>

                    <div class="redes-icones">
                        <div class="sub-heading-footer efeito-heading-redes-footer">Nossas Redes Sociais:</div>

                        <div class="icones-bottom efeito-icones-footer">
                            <ul>
                                <li><a class="action" target="_blank"><i class="bi bi-facebook"></i></a></li>
                                <li><a class="action" target="_blank"><i class="bi bi-twitter-x"></i></a></li>
                                <li><a class="action" target="_blank"
                                        href="https://www.instagram.com/andradebarber.shop/"><i
                                            class="bi bi-instagram"></i></a></li>
                                <li><a class="action" target="_blank"><i class="bi bi-linkedin"></i></a></li>
                                <li><a class="action" target="_blank"><i class="bi bi-youtube"></i></a></li>
                            </ul>
                        </div><!--icones bottom-->

                    </div><!--rede-icones-->

                </div><!--bottom-footer-->

            </div><!--interface-->
        </footer>

    </main>

</script>

<script>
    const input = document.getElementById('imageInput');
    const label = document.querySelector('label[for="imageInput"]');

    if (input.disabled) {
        label.classList.add('disabled-label');
    } else {
        label.classList.remove('disabled-label');
    }
</script>

<script>

    function validarCPF() {
        const cpfInput = document.getElementById('cpf');
        const cpfErro = document.getElementById('cpfErro');
        let cpf = cpfInput.value.replace(/\D/g, '');


        if (cpf.length === 0) {
            cpfErro.textContent = '';
            cpfInput.classList.remove('input-erro');
            return true;
        }

        if (cpf.length !== 11) {
            cpfErro.textContent = 'CPF deve ter 11 dígitos.';
            cpfInput.classList.add('input-erro');
            return false;
        }

        function validarDigitosCPF(cpf) {
            let soma = 0;
            let resto;

            for (let i = 1; i <= 9; i++) soma += parseInt(cpf.substring(i - 1, i)) * (11 - i);
            resto = (soma * 10) % 11;
            if (resto === 10 || resto === 11) resto = 0;
            if (resto !== parseInt(cpf.substring(9, 10))) return false;

            soma = 0;
            for (let i = 1; i <= 10; i++) soma += parseInt(cpf.substring(i - 1, i)) * (12 - i);
            resto = (soma * 10) % 11;
            if (resto === 10 || resto === 11) resto = 0;
            if (resto !== parseInt(cpf.substring(10, 11))) return false;

            return true;
        }

        if (!validarDigitosCPF(cpf)) {
            cpfErro.textContent = 'CPF inválido.';
            cpfInput.classList.add('input-erro');
            return false;
        } else {
            cpfErro.textContent = '';
            cpfInput.classList.remove('input-erro');
            return true;
        }
    }

    function validarIdade() {
        const dataNascInput = document.getElementById('dataNasc');
        const dataNascErro = document.getElementById('dataNascErro');
        const dataNasc = new Date(dataNascInput.value);

        if (!dataNascInput.value) {
            dataNascErro.textContent = '';
            dataNascInput.classList.remove('input-erro');
            return true;
        }

        if (isNaN(dataNasc)) {
            dataNascErro.textContent = 'Data inválida. Por favor, use uma data válida.';
            dataNascInput.classList.add('input-erro');
            return false;
        }

        const hoje = new Date();

        let idade = hoje.getFullYear() - dataNasc.getFullYear();
        const mes = hoje.getMonth() - dataNasc.getMonth();

        if (mes < 0 || (mes === 0 && hoje.getDate() < dataNasc.getDate())) {
            idade--;
        }

        if (idade < 18) {
            dataNascErro.textContent = 'Você deve ter pelo menos 18 anos para se cadastrar.';
            dataNascInput.classList.add('input-erro');
            return false;
        } else {
            dataNascErro.textContent = '';
            dataNascInput.classList.remove('input-erro');
            return true;
        }
    }


    document.getElementById('cpf').addEventListener('blur', function () {
        validarCPF();
    });

    document.getElementById('dataNasc').addEventListener('blur', function () {
        validarIdade();
    });

    function validarFormulario() {
        const cpfValido = validarCPF();
        const idadeValida = validarIdade();

        return cpfValido && idadeValida;
    }

</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
    integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"
    integrity="sha512-pHVGpX7F/27yZ0ISY+VVjyULApbDlD0/X0rgGbTqCE7WFW5MezNTWG/dnhtbBuICzsd0WQPgpE4REBLv+UqChw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    const mascaraTel = (event) => {
        let input = event.target
        input.value = phoneMask(input.value)
    }

    const phoneMask = (value) => {
        if (!value) return ""
        value = value.replace(/\D/g, '')
        value = value.replace(/(\d{2})(\d)/, "($1) $2")
        value = value.replace(/(\d)(\d{4})$/, "$1-$2")
        return value

        var tam = value.length;
    }

    $(document).ready(function () {
        $('#cpf').mask('999.999.999-99');
    });

</script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const imageInput = document.getElementById('imageInput');
        const preview = document.getElementById('preview');

        imageInput.addEventListener('change', (e) => {
            const file = e.target.files[0];

            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();

                reader.onload = (e) => {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                };

                reader.readAsDataURL(file);
            }
        });
    });
</script>

<script>
    let originalImage = "../css/imgs/elementos/nav-icon-user.png";

    function previewImage() {
        const input = document.getElementById('imageInput');
        const preview = document.getElementById('preview');

        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
                preview.src = e.target.result;
            };
            reader.readAsDataURL(input.files[0]);
        } else {
            preview.src = originalImage;
        }
    }

    document.getElementById('imageInput').addEventListener('change', function () {
        const preview = document.getElementById('preview');
        if (!this.files.length) {
            preview.src = originalImage;
        }
    });
</script>

<script src="../css/partials/header/header.js"></script>
</body>

</html>